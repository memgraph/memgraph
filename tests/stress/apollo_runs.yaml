- name: stress
  commands: TIMEOUT=600 ./continuous_integration
  infiles: &STRESS_INFILES
    - . # current directory
    - ../../build_release/memgraph # memgraph release binary
    - ../../config # directory with config files
    - ../../build_release/tests/stress # stress client binaries

- name: stress_properties_on_disk
  commands: TIMEOUT=600 ./continuous_integration --properties-on-disk
  infiles: *STRESS_INFILES

- name: stress_ssl
  commands: TIMEOUT=600 ./continuous_integration --use-ssl
  infiles: *STRESS_INFILES

- name: stress_large
  project: release
  commands: TIMEOUT=43200 ./continuous_integration --large-dataset
  infiles: *STRESS_INFILES

- name: stress_ha
  commands: TIMEOUT=200 ./continuous_integration_ha
  infiles: &STRESS_HA_INFILES
    - . # current directory
    - ../../build_release/memgraph_ha # memgraph release binary
    - ../../build_release/tests/stress/ # stress client binaries

- name: durability
  commands: TIMEOUT=300 ./ve3/bin/python3 durability --num-steps 5
  infiles: &DURABILITY_INFILES
    - . # current directory
    - ../../build_release/memgraph # memgraph release binary
    - ../../config # directory with config files

- name: durability_large
  project: release
  commands: TIMEOUT=5400 ./ve3/bin/python3 durability --num-steps 20
  infiles: *DURABILITY_INFILES
