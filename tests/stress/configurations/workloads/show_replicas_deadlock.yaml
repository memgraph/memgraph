memgraph:
  deployment:
    type: ha
  installation:
    type: default
  args:
    - "--bolt-server-name-for-init=Neo4j/"
    - "--storage-properties-on-edges=true"
    - "--storage-snapshot-on-exit=true"
    - "--storage-snapshot-interval-sec=600"
    - "--storage-snapshot-retention-count=1"
    - "--storage-wal-enabled=true"
    - "--query-execution-timeout-sec=1200"
    - "--log-level=DEBUG"
    - "--also-log-to-stderr=true"

general:
  verbose: false
  use_ssl: false

dataset:
  tests: []

customWorkloads:
  tests:
    - name: show-replicas-deadlock
      memgraph_args: []
      import:
        queries: ["CREATE INDEX ON :Node;", "CREATE INDEX ON :Node(id);"]
      workers:
        - name: periodic-import
          type: writer
          query: "USING PERIODIC COMMIT 1000 UNWIND range(1, 10000000) as x CREATE (:Node {id: x});"
          num_repetitions: 1
          sleep_millis: 0
        # - name: lab-simulator
        #   type: lab-simulator
        #   num_repetitions: 100
        #   sleep_millis: 500
      timeout_min: 2
