query: >
  MATCH path = (p:Person)-[:OWNS]->(c:Car)-[:MADE_BY]->(co:Company)-[:LOCATED_IN]->(loc:Location)
  WITH collect(path) AS paths
  CALL convert.to_tree(paths) YIELD value
  RETURN value.name AS name, 
         value._type AS type,
         size(value.owns) AS car_count,
         [car IN value.owns | car.model] AS car_models,
         [car IN value.owns | car.made_by[0].name] AS company_names
  ORDER BY name

output:
  - name: Jane
    type: Person
    car_count: 1
    car_models: ["BMW 320i"]
    company_names: ["BMW AG"]
  - name: John
    type: Person
    car_count: 2
    car_models: ["Tesla Model S", "BMW 320i"]
    company_names: ["Tesla Inc.", "BMW AG"]
