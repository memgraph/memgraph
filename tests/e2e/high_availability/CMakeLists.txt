find_package(gflags REQUIRED)

copy_e2e_python_files(high_availability replication_lag.py)
copy_e2e_python_files(high_availability strict_sync.py)
copy_e2e_python_files(high_availability coordinator.py)
copy_e2e_python_files(high_availability single_coordinator.py)
copy_e2e_python_files(high_availability coord_cluster_registration.py)
copy_e2e_python_files(high_availability distributed_coords.py)
copy_e2e_python_files(high_availability disable_writing_on_main_after_restart.py)
copy_e2e_python_files(high_availability durability.py)
copy_e2e_python_files(high_availability manual_setting_replicas.py)
copy_e2e_python_files(high_availability ttl.py)
copy_e2e_python_files(high_availability common.py)
copy_e2e_python_files(high_availability workloads.yaml)

copy_e2e_python_files_from_parent_folder(high_availability ".." memgraph.py)
copy_e2e_python_files_from_parent_folder(high_availability ".." interactive_mg_runner.py)
copy_e2e_python_files_from_parent_folder(high_availability ".." mg_utils.py)

if (MG_ENTERPRISE)
add_executable(memgraph__e2e__high_availability_rpc_comm rpc_comm.cpp)
target_link_libraries(memgraph__e2e__high_availability_rpc_comm mg-coordination mg-repl_coord_glue)
endif()
